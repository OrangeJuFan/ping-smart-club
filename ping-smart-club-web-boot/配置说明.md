# 配置说明

## 当前配置状态

✅ **已启用：**
- MyBatis-Plus（数据持久化框架）
- MySQL 数据库配置
- HikariCP 连接池（Spring Boot 默认）
- Lombok（代码简化工具）
- 基础日志配置

⏸️ **已注释（暂时禁用）：**
- Redis
- RabbitMQ
- Spring Security

## MyBatis-Plus 配置说明

### 1. 依赖配置（pom.xml）

已添加以下依赖：
- `mybatis-plus-spring-boot3-starter` (3.5.5)
- `mysql-connector-j` (8.0.33)
- `lombok` (1.18.30)

### 2. 配置文件（application.yml）

```yaml
# 数据源配置
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ping_smart_club?...
    username: root
    password: root

# MyBatis-Plus 配置
mybatis-plus:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: org.pingpongapp.pingsmartclubwebboot.pojo
  configuration:
    map-underscore-to-camel-case: true  # 驼峰命名转换
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # SQL日志
```

### 3. 配置类（MyBatisPlusConfig.java）

- 已配置分页插件
- Mapper 扫描路径：`org.pingpongapp.pingsmartclubwebboot.mapper`

## 使用步骤

### 1. 创建数据库

```sql
CREATE DATABASE ping_smart_club CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 2. 创建实体类（POJO）

在 `pojo` 包下创建实体类，例如：

```java
package org.pingpongapp.pingsmartclubwebboot.pojo;

import com.baomidou.mybatisplus.annotation.IdType;
import com.baomidou.mybatisplus.annotation.TableId;
import com.baomidou.mybatisplus.annotation.TableName;
import lombok.Data;

@Data
@TableName("coach")  // 对应数据库表名
public class Coach {
    @TableId(type = IdType.AUTO)  // 主键自增
    private Long id;
    private String name;
    private String title;
    // ... 其他字段
}
```

### 3. 创建 Mapper 接口

在 `mapper` 包下创建 Mapper 接口：

```java
package org.pingpongapp.pingsmartclubwebboot.mapper;

import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import org.pingpongapp.pingsmartclubwebboot.pojo.Coach;

public interface CoachMapper extends BaseMapper<Coach> {
    // MyBatis-Plus 提供了基础的 CRUD 方法
    // 也可以在此添加自定义方法
}
```

### 4. 创建 Service 和 Controller

```java
// Service 接口
public interface CoachService extends IService<Coach> {
}

// Service 实现
@Service
public class CoachServiceImpl extends ServiceImpl<CoachMapper, Coach> implements CoachService {
}

// Controller
@RestController
@RequestMapping("/coach")
public class CoachController {
    @Autowired
    private CoachService coachService;
    
    @GetMapping("/list")
    public List<Coach> list() {
        return coachService.list();
    }
}
```

## 注意事项

1. **编译错误处理**：如果遇到 RedisConfig、RabbitMQConfig、SecurityConfig 的编译错误，可以：
   - 暂时删除这些文件，或
   - 将整个类内容注释掉

2. **数据库连接**：确保 MySQL 服务已启动，并且数据库已创建

3. **Mapper XML 文件**：如果使用 XML 方式写 SQL，需要在 `src/main/resources/mapper/` 目录下创建对应的 XML 文件

4. **启用其他中间件**：后续需要 Redis、RabbitMQ 或 Security 时，只需：
   - 在 pom.xml 中取消相关依赖的注释
   - 在 application.yml 中取消相关配置的注释
   - 在配置类中取消 @Configuration 的注释

## 测试连接

启动应用后，查看控制台日志，如果看到 MyBatis-Plus 的 banner 和数据库连接信息，说明配置成功。

