spring:
  application:
    name: ping-smart-club-web-boot
  
  # 数据源配置 (HikariCP)
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ping_smart_club?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: root
    type: com.zaxxer.hikari.HikariDataSource
    hikari:
      # 连接池名称
      pool-name: PingSmartClubHikariCP
      # 最小空闲连接数
      minimum-idle: 5
      # 最大连接池大小
      maximum-pool-size: 20
      # 自动提交
      auto-commit: true
      # 连接超时时间（毫秒）
      connection-timeout: 30000
      # 空闲连接存活最大时间（毫秒）
      idle-timeout: 600000
      # 连接最大存活时间（毫秒），0表示永久存活
      max-lifetime: 1800000
      # 连接测试查询
      connection-test-query: SELECT 1
  
  # Redis 配置 (暂时注释，后续需要时再启用)
  # data:
  #   redis:
  #     host: localhost
  #     port: 6379
  #     password: 
  #     database: 0
  #     timeout: 3000ms
  #     lettuce:
  #       pool:
  #         max-active: 8
  #         max-wait: -1ms
  #         max-idle: 8
  #         min-idle: 0
  
  # RabbitMQ 配置 (暂时注释，后续需要时再启用)
  # rabbitmq:
  #   host: localhost
  #   port: 5672
  #   username: guest
  #   password: guest
  #   virtual-host: /
  #   publisher-confirm-type: correlated
  #   publisher-returns: true
  #   template:
  #     mandatory: true
  #   listener:
  #     simple:
  #       concurrency: 1
  #       max-concurrency: 10
  #       prefetch: 1
  #       acknowledge-mode: manual
  #       retry:
  #         enabled: true
  #         initial-interval: 1000
  #         max-attempts: 3
  #         multiplier: 1.0

# MyBatis-Plus 配置
mybatis-plus:
  # 扫描 mapper 文件位置
  mapper-locations: classpath:mapper/*.xml
  # 实体类包路径
  type-aliases-package: org.pingpongapp.pingsmartclubwebboot.pojo
  configuration:
    # 开启驼峰命名转换
    map-underscore-to-camel-case: true
    # 开启二级缓存
    cache-enabled: true
    # 日志实现
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      # 主键类型 AUTO:数据库自增, INPUT:手动输入, ID_WORKER:分布式全局唯一ID, UUID:32位UUID字符串
      id-type: AUTO
      # 字段策略 IGNORED:忽略判断, NOT_NULL:非NULL判断, NOT_EMPTY:非空判断
      field-strategy: NOT_EMPTY
      # 数据库类型
      db-type: MYSQL
      # 逻辑删除字段
      logic-delete-field: deleted
      # 逻辑删除值
      logic-delete-value: 1
      # 逻辑未删除值
      logic-not-delete-value: 0
    # 关闭banner
    banner: false

# 服务器配置
server:
  port: 8080
  servlet:
    context-path: /api
    encoding:
      charset: UTF-8
      enabled: true
      force: true

# 日志配置
logging:
  level:
    root: INFO
    org.pingpongapp.pingsmartclubwebboot: DEBUG
    # org.springframework.security: DEBUG  # 暂时注释，Security未启用
    com.baomidou.mybatisplus: DEBUG
  pattern:
    console: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'
    file: '%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n'
  file:
    name: logs/ping-smart-club.log
    max-size: 10MB
    max-history: 30

# Spring Security 配置（可根据需要调整）
# security:
#   user:
#     name: admin
#     password: admin123
